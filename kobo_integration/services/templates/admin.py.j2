{% autoescape off %}
from django.contrib import admin
from .models import {{ model_name }}

# Filtrer dynamiquement les colonnes qui existent vraiment dans le mod√®le
_all_cols = {{ list_cols }}
_existing = { f.name for f in {{ model_name }}._meta.get_fields() }
_safe_cols = [c for c in _all_cols if c in _existing]

@admin.register({{ model_name }})
class {{ model_name }}Admin(admin.ModelAdmin):
    list_display = _safe_cols or ['id']
{% endautoescape %}
