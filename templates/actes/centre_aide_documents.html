
<!DOCTYPE html>
{% load static %}
{% load crispy_forms_tags %}

<html>
    <head>
        <meta charset="UTF-8">
        <title>AHIS |</title>
        <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    
        <!-- Favicon -->
        <link rel="icon" type="image/x-icon" href="{% static 'img/favicon.ico' %}">
    
        <!-- PWA icons -->
        <link rel="manifest" href="{% static 'manifest.json' %}">
        <link rel="apple-touch-icon" sizes="192x192" href="{% static 'img/icon-192.png' %}">
        <link rel="apple-touch-icon" sizes="512x512" href="{% static 'img/icon-512.png' %}">
        <meta name="theme-color" content="#00695c">
    
        <!-- CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet"
        onerror="this.onerror=null;this.href='{% static 'css/bootstrap.min.css' %}';">
  
        <link href="{% static 'css/dataTables.css' %}" rel="stylesheet" type="text/css" />
         <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'css/ionicons.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'css/morris/morris.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'css/jvectormap/jquery-jvectormap-1.2.2.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'css/fullcalendar/fullcalendar.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'css/daterangepicker/daterangepicker-bs3.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'css/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'css/AdminLTE.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'select2/select2.min.css' %}" rel="stylesheet" />
    </head>
    
    
    <body class="skin-aqua">
        <header class="header bg-white shadow-sm py-2 px-4 d-flex justify-content-between align-items-center">
            <!-- Logo AHIS √† gauche -->
            <div class="d-flex align-items-center">
                <a href="#" class="me-3">
                    <img src="{% static 'img/logo_ahis.png' %}" alt="AHIS Logo" style="max-height: 50px;">
                </a>
            </div>
        
            
        
            
        </header>
    <body>

<div class="container mt-5" style="margin-left: 20%;" >
    
    
    {% load static %}

<div class="text-center mb-4" id="printable-header">
    <div class="d-flex justify-content-between align-items-center mb-2">
        {# drapeau #}
        {% if country.drapeau %}
            <img src="{% static country.drapeau %}"
                 alt="Drapeau {{ country.pays }}"
                 style="height: 60px;">
        {% endif %}

        {# appellation + devise #}
        <div>
            <h5 class="mb-0 text-uppercase fw-bold">
                {{ country.appellation }}
            </h5>
            <p class="mb-0 fst-italic">
                {{ country.devise }}
            </p>
        </div>

        {# armoirie #}
        {% if country.armoirie %}
            <img src="{% static country.armoirie %}"
                 alt="Armoirie {{ country.pays }}"
                 style="height: 60px;">
        {% endif %}
    </div>
</div>

    
        <hr>
        <h3 class="text-center text-primary">
            <i class="fa fa-file-text"></i>Pi√®ces √† fournir pour l'√©tablissement des actes administratifs v√©t√©rinaires
        </h3>
    </div>

    <!-- Filtres -->
    <form method="get" class="row align-items-end mb-4 g-2" style="margin-left: 50px;">
        <div class="col-md-6">
            <label for="type_acte" class="form-label fw-bold" style="font-size: 15px;"></label>
            <select name="type_acte" id="type_acte" class="form-select" style="height:50px;">
                <option value="">Tous les types</option>
                {% for t in types_actes %}
                    <option value="{{ t.id }}" {% if t.id|stringformat:"s" == type_acte_id %}selected{% endif %}>
                        {{ t.nom }}
                    </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-3 text-end" >
            <button type="submit" class="btn btn-primary mt-3">üîé Filtrer</button>
            <button onclick="printDiv('printable-area')" class="btn btn-success mt-3 ms-2" type="button">üñ®Ô∏è Imprimer</button>
        </div>
    </form>

    <!-- Zone imprimable -->
    <div id="printable-area">
        {% if pieces %}
            {% for type_acte, piece_list in pieces.items %}
                <div class="card mb-4 shadow-sm">
                    <div class="card-header bg-light fw-bold">
                        <h4> üìÑ Pi√®ces pour : <span class="text-primary">{{ type_acte.nom }}</span></h4>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            {% for piece in piece_list %}
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span>
                                        <i class="fa fa-check-circle text-success"></i> 
                                        {{ piece.nom_piece }}
                                        {% if piece.description %}<br>
                                        <small class="text-muted">{{ piece.description }}</small>{% endif %}
                                    </span>
                                    <span class="badge bg-{{ piece.obligatoire|yesno:'danger,secondary' }}">
                                        {{ piece.obligatoire|yesno:"Obligatoire,Optionnelle" }}
                                    </span>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <div class="alert alert-info text-center">
                Aucun document trouv√© pour le filtre s√©lectionn√©.
            </div>
        {% endif %}
    </div>

    <!-- Retour -->
    <div class="mt-4">
        <a href="{% url 'login' %}" class="btn btn-secondary">‚¨Ö Retour</a>
    </div>
</div>




<script src="{% static 'js/jquery.min.js' %}"></script>
<!-- jQuery UI 1.10.3 -->
<script src="{% static 'js/jquery-ui-1.10.3.min.js' %}" type="text/javascript"></script>
<!-- Bootstrap -->
<script src="{% static 'js/bootstrap.min.js' %} " type="text/javascript"></script>
<!-- Morris.js charts -->
<script src="{% static 'js/raphael-min.js' %}"></script>
<script src="js/plugins/morris/morris.min.js" type="text/javascript"></script>
<!-- Inclure le JavaScript de Select2 -->
<script src="{% static 'select2/select2.min.js' %}"></script>
<!-- Sparkline -->
<script src="{% static 'js/plugins/sparkline/jquery.sparkline.min.js' %}" type="text/javascript"></script>

<!-- jvectormap -->
<script src="{% static 'js/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js' %}" type="text/javascript"></script>

    <!-- fullCalendar -->
    <script src="{% static 'js/plugins/fullcalendar/fullcalendar.min.js' %}" type="text/javascript"></script>

    <!-- jQuery Knob Chart -->
    <script src="{% static 'js/plugins/jqueryKnob/jquery.knob.js' %}" type="text/javascript"></script>

    <!-- daterangepicker -->
    <script src="{% static 'js/plugins/daterangepicker/daterangepicker.js' %}" type="text/javascript"></script>

    <!-- Bootstrap WYSIHTML5 -->
    <script src="{% static 'js/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js' %}" type="text/javascript"></script>

    <!-- iCheck -->
    <script src="{% static 'js/plugins/iCheck/icheck.min.js' %}" type="text/javascript"></script>
     <script src="{% static 'js/bootstrap.bundle.min.js' %}" type="text/javascript"></script>

    <!-- AdminLTE App -->
    <script src="{% static 'js/AdminLTE/app.js' %}" type="text/javascript"></script>
<script src="{% static 'js/dataTables.js' %}"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="{% static 'js/AdminLTE/dashboard.js' %}" type="text/javascript"></script>  
<script src="{% static 'js/dataTables.js' %}" type="text/javascript"></script>

<script>
function printDiv(divId) {
    const header = document.getElementById('printable-header').outerHTML;
    const contents = document.getElementById(divId).innerHTML;
    const original = document.body.innerHTML;

    document.body.innerHTML = header + contents;
    window.print();
    document.body.innerHTML = original;
    location.reload();
}
</script>

</body>
</html>
    